<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- _______ Silva version v1.0b _______ -->
<tal:block define="here request/model;">
<metal:block use-macro="request/model/layout_macro.html/macros/layout">
<metal:block fill-slot="main">
<tal:block
  define="
    model request/model;
    title model/get_title;
    show_form options/show_form | python: True;
    feedback options/message | nothing;
    message_type options/message_type | nothing;
    warning python:message_type == 'warning' and message_type or nothing;
    subscr_emailaddress options/subscr_emailaddress | nothing; 
    cancel_emailaddress options/cancel_emailaddress | nothing; 
    path python: '/'.join(model.getPhysicalPath());"
  i18n:domain="silva"
  >
  <div class="feedback"
    tal:condition="feedback">
    <span tal:content="feedback"
      tal:attributes="class warning | nothing"
      tal:omit-tag="not:warning"
      i18n:translate="">
      feedback message
    </span>
  </div>
  <tal:block condition="show_form">
    <div class="subscriptionform">
      <form method="POST" name="form" action="subscription_request" enctype="multipart/form-data">
        <h3 class="heading" i18n:translate="">
          Subscribe to 
          &#xab;<tal:block i18n:name="title_or_id" content="model/get_title_or_id" />&#xbb;
        </h3>
        <p class="p" i18n:translate="">
          Fill in your email address if you want to receive email
          notifications whenever a new version of this page or its
          subsections becomes available.
        </p>
        <span i18n:translate="">email address</span><span class="warning">*</span>
        <input type="hidden" name="path" tal:attributes="value path"/>
        <input type="text" name="emailaddress" size="30"
          tal:attributes="value subscr_emailaddress"
        />
        <input class="button"
          type="submit"
          value="subscribe"
          title="access key: alt-s"
          accesskey="s"
          i18n:attributes="title;value"
        />
      </form>
    </div>
    <div class="cancellationform">
      <form method="POST" name="form" action="cancellation_request" enctype="multipart/form-data">
        <h3 class="heading" i18n:translate="">
          Unsubscribe from
          &#xab;<tal:block i18n:name="title_or_id" content="model/get_title_or_id" />&#xbb;
        </h3>
        <p class="p" i18n:translate="">
          Fill in your email address here if you want to unsubscribe
          from email notifications for this page and its subsections.
        </p>
        <span i18n:translate="">email address</span><span class="warning">*</span>
        <input type="hidden" name="path" tal:attributes="value path"/>
        <input type="text" name="emailaddress" size="30"
          tal:attributes="value cancel_emailaddress"
        />
        <input class="button"
          type="submit"
          value="unsubscribe"
          title="access key: alt-u"
          accesskey="u"
          i18n:attributes="title;value"
        />
      </form>
    </div>
  </tal:block>
  <div class="backlink">
    <a tal:attributes="href model/absolute_url" i18n:translate="">
      Return to 
      &#xab;<tal:block i18n:name="title_or_id" content="model/get_title_or_id" />&#xbb;
    </a>
  </div>
</tal:block>
</metal:block>
</metal:block>
</tal:block>
